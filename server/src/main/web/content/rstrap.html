<!DOCTYPE html>
<html lang='en'>
	<head>
		<meta charset='utf-8'/>
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<title>CatFood</title>
		<link rel="stylesheet" href="/libs/bootstrap.min.css" />
 		<script type='text/javascript' src='/libs/require.js'></script>
 		<script type='text/javascript'>
			var exports = {};
			require.config({
			    paths: {
			    	'react': '/libs/react',
			        'react-router': '/libs/react-router',
			        'react-dom' : '/libs/react-dom',
			        'react-popper' : 'https://unpkg.com/react-popper/dist/react-popper',
			        'react-transition-group' : 'https://unpkg.com/react-transition-group/dist/react-transition-group.min',
					'reactstrap' : 'https://cdnjs.cloudflare.com/ajax/libs/reactstrap/4.8.0/reactstrap.min',
			        'ReactRouterBootstrap' : '/libs/ReactRouterBootstrap',
			        'react-router-dom' : '/libs/react-router-dom',
			        'react-ajax' : '/libs/react-ajax',
			        'warning' : '/libs/warning',
			        'prop-types' : '/libs/prop-types',
			        'history' : '/libs/history',
			        'Router' : '/libs/Router',
			        'HashRouter' : '/libs/HashRouter',
			        'CatFood' : '/components/CatFood',
			        'ViewTopic' : '/components/ViewTopic',
			        'EditTopic' : '/components/EditTopic',
			        'Home' : '/components/Home',
			        'react-markdown' : '/libs/react-markdown',
			    }
			});			
			
			require(['react', 'prop-types','react-router','react-dom','react-transition-group','react-popper','reactstrap', 'history','ReactRouterBootstrap','react-router-dom', 'warning'], function(react,proptypes,reactrouter,ReactDOM,ReactBootstrap) {
				require(['require','history'], function(require) {
					// so much for javascript 'modularity', NOTHING short of this hack will get the job done! 
					window.React = react;
					window.ReactBootstrap = ReactBootstrap;
					
//					var createHashHistory = require('history').createHashHistory;
					
					define('react-router/Router',function() {
						return require('react-router').Router;
					});
					var Router = require('react-router').Router;
					define('react-router/Router', function() { return Router });
					
					require(['react-router/Router','Router'], function() { 
//						define('history/createHashHistory',function() { return createHashHistory });
						require(['react-ajax'], function() {
//							var Ajax = require('react-ajax').Ajax;
//							define('react-ajax/Ajax, function() { return Ajax }');
							require(['ViewTopic','EditTopic','Home','react-markdown'],function() {
								require(['CatFood'],function() {
							 		function r(f){/in/.test(document.readyState)?setTimeout(r,9,f):f()}
							 		
							 		r(function(){
										ReactDOM.render(
												React.createElement(CatFood, {title: "CatFood", subTitle: "The Cat is Happy", topicID: '42:1'},null), document.getElementById('root')
											);
							 		});
								});
							});
						});
					});
				});
			});
 		</script>
	</head>
	<body>
		<div id='root'></div>
	</body>
</html>
